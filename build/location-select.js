/* location-select 
   0.1.0
   By Stephen Band
   Built 2022-06-03 13:46 */

function x(t){return t}function b(t,e){return function(){let i=t.apply(this,arguments),r=e[i]||e.default;if(!r)throw new Error('overload() no handler for "'+i+'"');return r.apply(this,arguments)}}function C(t){var e=new Map;return function(i){if(e.has(i))return e.get(i);var r=t(i);return e.set(i,r),r}}var _t=Array.prototype;function Ct(t,e){return typeof t=="function"?t.apply(null,e):t}function Y(t,e,o){o=o||t.length;var i=o===1?e?t:C(t):C(function(r){return Y(function(){var c=[r];return c.push.apply(c,arguments),t.apply(null,c)},e,o-1)});return function r(c){return arguments.length===0?r:arguments.length===1?i(c):arguments.length>=o?t.apply(null,arguments):Ct(i(c),_t.slice.call(arguments,1))}}var v=Y;function f(){}var Bt=b(x,{is:f,tag:f,html:function(t,e,o){e.innerHTML=o},text:function(t,e,o){e.textContent=o},children:function(t,e,o){e.innerHTML="",e.append.apply(e,o)},points:P,cx:P,cy:P,r:P,preserveAspectRatio:P,viewBox:P,default:function(t,e,o){t in e?e[t]=o:e.setAttribute(t,o)}});function P(t,e,o){e.setAttribute(t,o)}function Dt(t,e){for(var o=Object.keys(e),i=o.length;i--;)Bt(o[i],t,e[o[i]]);return t}var B=v(Dt,!0);var I="http://www.w3.org/2000/svg",tt=document.createElement("div"),V=(t,e)=>e&&typeof e;function et(t,e){let o=document.createRange();return o.selectNode(t),o.createContextualFragment(e)}var h=b(V,{string:function(t,e){let o=document.createElementNS(I,t);return o.innerHTML=e,o},object:function(t,e){let o=document.createElementNS(I,t);return typeof e.length=="number"?o.append.apply(o,e):B(o,e),o},default:t=>document.createElementNS(I,t)}),Ft=b(V,{string:function(t,e){let o=document.createElement(t);return o.innerHTML=e,o},object:function(t,e){let o=document.createElement(t);return typeof e.length=="number"?o.append.apply(o,e):B(o,e),o},default:t=>document.createElement(t)}),Gt=b(x,{comment:function(t,e){return document.createComment(e||"")},fragment:b(V,{string:function(t,e,o){if(o)return et(o,e);let i=document.createDocumentFragment();tt.innerHTML=e;let r=tt.childNodes;for(;r[0];)i.appendChild(r[0]);return i},object:function(t,e,o){let i=o?et(o):document.createDocumentFragment();return typeof e.length=="number"?i.append.apply(i,e):B(i,e),i},default:()=>document.createDocumentFragment()}),text:function(t,e){return document.createTextNode(e||"")},circle:h,ellipse:h,g:h,glyph:h,image:h,line:h,rect:h,use:h,path:h,pattern:h,polygon:h,polyline:h,svg:h,default:Ft}),O=Gt;function z(t,e,o){let i;typeof o!="string"&&o.input!==void 0&&o.index!==void 0&&(i=o,o=i.input.slice(o.index+o[0].length+(o.consumed||0)));let r=t.exec(o);if(!r)return;let c=e(r);return i&&(i.consumed=(i.consumed||0)+r.index+r[0].length+(r.consumed||0)),c}var qe=v(z,!0);function Ut(t,e,o){throw o.input!==void 0&&o.index!==void 0&&(o=o.input),new Error('Cannot parse string "'+(o.length>128?o.length.slice(0,128)+"…":o)+'"')}function Rt(t,e,o){let i=-1;for(;++i<o.length;)e=o[i]!==void 0&&t[i]?t[i](e,o):e;return t.done?t.done(e,o):t.close?t.close(e,o):e}function Nt(t,e,o,i){let r=z(t,c=>Rt(e,o,c),i);return r===void 0?e.catch?e.catch(o,i):Ut(t,e,i):r}var nt=v(Nt,!0);var $=f;var d=Symbol("internals"),T=Symbol("shadow"),ot=Object.defineProperties,It={a:HTMLAnchorElement,dl:HTMLDListElement,p:HTMLParagraphElement,br:HTMLBRElement,fieldset:HTMLFieldSetElement,hr:HTMLHRElement,img:HTMLImageElement,li:HTMLLIElement,ol:HTMLOListElement,optgroup:HTMLOptGroupElement,q:HTMLQuoteElement,textarea:HTMLTextAreaElement,td:HTMLTableCellElement,th:HTMLTableCellElement,tr:HTMLTableRowElement,tbody:HTMLTableSectionElement,thead:HTMLTableSectionElement,tfoot:HTMLTableSectionElement,ul:HTMLUListElement},Vt={name:{set:function(t){return this.setAttribute("name",t)},get:function(){return this.getAttribute("name")||""}},form:{get:function(){return this[d].form}},labels:{get:function(){return this[d].labels}},validity:{get:function(){return this[d].validity}},validationMessage:{get:function(){return this[d].validationMessage}},willValidate:{get:function(){return this[d].willValidate}},checkValidity:{value:function(){return this[d].checkValidity()}},reportValidity:{value:function(){return this[d].reportValidity()}}},zt={},it={once:!0},$t=0,rt=!1;function qt(t){return It[t]||window["HTML"+t[0].toUpperCase()+t.slice(1)+"Element"]||(()=>{throw new Error('Constructor not found for tag "'+t+'"')})()}var Kt=nt(/^\s*<?([a-z][\w]*-[\w]+)>?\s*$|^\s*<?([a-z][\w]*)\s+is=["']?([a-z][\w]*-[\w]+)["']?>?\s*$/,{1:(t,e)=>({name:e[1]}),2:(t,e)=>({name:e[3],tag:e[2]}),catch:function(t,e){throw new SyntaxError(`dom element() – name must be of the form 'element-name' or 'tag is="element-name"' (`+e+")")}},null);function Zt(t,e){if(t.hasOwnProperty(e)){let o=t[e];delete t[e],t[e]=o}return t}function Qt(t,e,o){t._initialLoad=!0;let i=t.attachShadow({mode:e.mode||"closed",delegatesFocus:e.focusable||!1});if(o){let r=O("link",{rel:"stylesheet",href:o});i.append(r)}return t[T]=i,i}function Jt(t){var e;if(t.attachInternals){if(e=t.attachInternals(),e.setFormValue)return e}else e={shadowRoot:t.shadowRoot};return e.input=O("input",{type:"hidden",name:t.name}),t.appendChild(e.input),e.setFormValue=function(o){this.input.value=o},e}function Wt(t){t._initialAttributes={},t._n=0}function Xt(t,e,o){let i=t._initialAttributes;for(;t._n<e.length&&i[e[t._n]]!==void 0;)o[e[t._n]].call(t,i[e[t._n]]),++t._n}function st(t,e,o){if(!t._initialAttributes)return;let i=t._initialAttributes;for(;t._n<e.length;)i[e[t._n]]!==void 0&&o[e[t._n]]&&o[e[t._n]].call(t,i[e[t._n]]),++t._n;delete t._initialAttributes,delete t._n}function Yt(t){return!!t.attribute}function te(t){return t.set||t.get||t.hasOwnProperty("value")}function ut(t,e){return Yt(e[1])&&(t.attributes[e[0]]=e[1].attribute),te(e[1])&&(t.properties[e[0]]=e[1]),t}function q(t,e,o,i){let{name:r,tag:c}=Kt(t),y=typeof c=="string"?qt(c):HTMLElement,{attributes:w,properties:A}=o?Object.entries(o).reduce(ut,{attributes:{},properties:{}}):e.properties?Object.entries(e.properties).reduce(ut,{attributes:{},properties:{}}):zt;function p(){let u=Reflect.construct(y,arguments,p),l=e.construct&&e.construct.length>$t?Qt(u,e,i||e.stylesheet):void 0,m=p.formAssociated&&Jt(u);return c&&(rt=!0),e.construct&&e.construct.call(u,l,m),w&&(Wt(u),Promise.resolve(1).then(function(){st(u,p.observedAttributes,w)})),A&&Object.keys(A).reduce(Zt,u),u}return p.prototype=Object.create(y.prototype,A),A&&A.value&&(p.formAssociated=!0,ot(p.prototype,Vt),(e.enable||e.disable)&&(p.prototype.formDisabledCallback=function(u){return u?e.disable&&e.disable.call(this,this[T],this[d]):e.enable&&e.enable.call(this,this[T],this[d])}),e.reset&&(p.prototype.formResetCallback=function(){return e.reset.call(this,this[T],this[d])}),e.restore&&(p.prototype.formStateRestoreCallback=function(){return e.restore.call(this,this[T],this[d])})),w&&(p.observedAttributes=Object.keys(w),p.prototype.attributeChangedCallback=function(u,l,m){if(!this._initialAttributes)return w[u].call(this,m);this._initialAttributes[u]=m,Xt(this,p.observedAttributes,w)}),p.prototype.connectedCallback=function(){let u=this,l=u[T],m=u[d];if(u._initialAttributes&&st(u,p.observedAttributes,w),u._initialLoad){let L=l.querySelectorAll('link[rel="stylesheet"]');if(L.length){let Mt=0,N=L.length,X=function(Ht){++Mt>=L.length&&(delete u._initialLoad,e.load&&($("element()","loaded",Array.from(L).map(jt=>jt.href).join(`
`)),e.load.call(u,l)))},Ot=X;for(;N--;)L[N].addEventListener("load",X,it),L[N].addEventListener("error",Ot,it);e.connect&&e.connect.call(this,l,m)}else e.connect&&e.connect.call(this,l,m),e.load&&e.load.call(this,l,m)}else e.connect&&e.connect.call(this,l,m)},e.disconnect&&(p.prototype.disconnectedCallback=function(){return e.disconnect.call(this,this[T],this[d])}),$("element()","<"+(c?c+" is="+r:r)+">"),window.customElements.define(r,p,c&&{extends:c}),c&&!rt&&document.querySelectorAll('[is="'+r+'"]').forEach(u=>{ot(u,A),e.construct&&e.construct.apply(u);let l;for(l in w){let m=u.attributes[l];m&&w[l].call(u,m.value)}e.connect&&e.connect.apply(u)}),p}function ee(t,e){return e[t]}var ct=v(ee,!0);var ne=Object.freeze;function at(){return this}var S=ne({shift:f,push:f,forEach:f,join:function(){return""},map:at,filter:at,includes:function(){return!1},reduce:function(t,e){return e},length:0,each:f,pipe:x,start:f,stop:f,done:f,valueOf:function(){return null}});function K(){return this}function Z(t){return t&&t[Symbol.iterator]}var oe=Object.assign;function ie(t){return t.stop?t.stop():t()}function re(t){t.forEach(ie),t.length=0}function M(){}oe(M.prototype,{stop:function(){return this.stopables&&re(this.stopables),this},done:function(e){return(this.stopables||(this.stopables=[])).push(e),this}});var se=Object.assign;function D(t){M.prototype.stop.apply(t);let e=-1,o;for(;o=t[++e];)t[e]=void 0,D(o)}function a(){}se(a.prototype,{pipe:function(t){return this[0]=t,t},stop:function(){return this[0]&&D(this[0]),this}});var g=Object.assign,E=Object.create;function k(t,e){e!==void 0&&t[0].push(e)}function ue(t,e){if(t[1]){let o=-1;for(;t[++o]&&t[o]!==e;);for(;t[o++];)t[o-1]=t[o];D(e)}else t.stop()}function s(t){this.input=t}g(s.prototype,M.prototype,{push:function(t){k(this,t)},pipe:function(t){if(this[0])throw new Error("Stream: Attempt to .pipe() a unicast stream multiple times. Create a multicast stream with stream.broadcast().");return this[0]=t,this.input.pipe(this),t},map:function(t){return new pt(this,t)},filter:function(t){return new ft(this,t)},split:function(t){return new ht(this,t)},flatMap:function(t){return new lt(this,t)},take:function(t){return new dt(this,t)},each:function(t){return new gt(this,t)},reduce:function(t,e){return new mt(this,t,e)},scan:function(t,e){return new wt(this,t,e)},stop:function(){return ue(this.input,this),this}});function pt(t,e){this.input=t,this.fn=e}pt.prototype=g(E(s.prototype),{push:function(e){let o=this.fn;k(this,o(e))}});function ft(t,e){this.input=t,this.fn=e}ft.prototype=g(E(s.prototype),{push:function(e){this.fn(e)&&k(this,e)}});function lt(t,e){this.input=t,this.fn=e}lt.prototype=g(E(s.prototype),{push:function(e){let i=this.fn(e);if(i!==void 0)if(Z(i))for(let r of i)k(this,r);else throw new Error("Stream: Cannot .flatMap() non-iterable values")}});function ht(t,e){this.input=t,this.chunk=[],typeof n=="number"?this.n=e:this.fn=e}ht.prototype=g(E(s.prototype),{fn:function(){return this.chunk.length===this.n},push:function(e){let o=this.chunk;this.fn(e)?(k(this,o),this.chunk=[]):o.push(e)}});function dt(t,e){this.input=t,this.count=e}dt.prototype=g(E(s.prototype),{push:function(e){this[0].push(e),--this.count||this.stop()}});function mt(t,e,o){return this.input=t,this.fn=e,this.value=o,this.i=0,t.pipe(this),o}mt.prototype=g(E(s.prototype),{push:function(t){let e=this.fn;this.value=e(this.value,t,this.i++,this)}});function wt(t,e,o){this.input=t,this.fn=e,this.value=o}wt.prototype=g(E(s.prototype),{push:function(t){let e=this.fn;this.value=e(this.value,t),this[0].push(this.value)}});function gt(t,e){this.input=t,this.push=e,t.pipe(this)}gt.prototype=g(E(s.prototype),{each:null,reduce:null,pipe:null});var ce=Array.prototype,ae=Object.assign,pe=Object.create;function H(t){this.buffer=t||[]}H.prototype=ae(pe(s.prototype),a.prototype,{push:function(t){t!==void 0&&this.buffer.push(t)},pipe:function(t){for(this[0]=t;this.buffer.length;)this[0].push(ce.shift.apply(this.buffer));return this.buffer=this[0],t}});var yt=Object.assign,fe=Promise.resolve(),le={schedule:function(){fe.then(this.fire)},unschedule:f},he={schedule:function(){this.timer=requestAnimationFrame(this.fire)},unschedule:function(){cancelAnimationFrame(this.timer),this.timer=void 0}},de={schedule:function(){this.timer=setTimeout(this.fire,this.duration*1e3)},unschedule:function(){clearTimeout(this.timer),this.timer=void 0}};function j(t,e){s.apply(this,arguments),this.duration=e,this.timer=void 0,this.fire=()=>{this.timer=void 0,this.output.stop()},yt(this,e==="tick"?le:e==="frame"?he:de)}yt(j.prototype,s.prototype,{push:function(t){this.timer?(this.unschedule(),this.schedule(),this.output.push(t)):(this.output=s.of(t),this[0].push(this.output),this.schedule())},stop:function(){this.timer&&this.fire(),s.prototype.stop.apply(this,arguments)}});var me=Object.assign,we=Object.create;function _(t,e){s.apply(this,arguments),this.memory=!!(e&&e.memory),e&&e.hot&&this.pipe(S)}_.prototype=me(we(s.prototype),{push:function(t){if(t!==void 0){this.memory&&(this.value=t);let e=-1;for(;this[++e];)this[e].push(t)}},pipe:function(t){let e=-1;for(;this[++e];);return this[e]=t,this.value!==void 0&&t.push(this.value),e===0&&this.input.pipe(this),t}});var ge=Object.assign;function F(t){this.promise=t}ge(F.prototype,a.prototype,{pipe:function(t){let e=this.promise;this[0]=t,e.then(o=>this[0].push(o)).finally(o=>this.stop())},stop:function(){a.prototype.stop.apply(this,arguments),this[0]=S}});var vt=Object.assign,Et=Object.keys;function bt(t,e,o){let i=t.values,r=t.names,c=t[0];i[e]=o,(t.active||(t.active=Et(i).length===r.length))&&c.push(vt({},i))}function G(t){this.inputs=t,this.active=!1}vt(G.prototype,a.prototype,{pipe:function(t){let e=this.inputs;this.values={},this.names=Et(e),this[0]=t;for(let o in e){let i=e[o];i.pipe?t.done(i.each(r=>bt(this,o,r))):i.then?i.then(r=>bt(this,o,r)):console.log("Todo: combine() raw values ?")}}});var ye=Object.assign;function U(t){this.inputs=t}ye(U.prototype,a.prototype,{pipe:function(t){let e=this.inputs;this[0]=t;let o=-1,i;for(;i=e[++o];)if(i.pipe)i.pipe(t);else if(i.then)i.then(r=>t.push(r));else{let r=-1;for(;++r<i.length;)t.push(i[r])}},stop:function(){let t=this.inputs,e=-1,o;for(;o=t[++e];)o.stop&&o.stop();return a.prototype.stop.apply(this,arguments)}});var J=Array.prototype,be=Object.assign;function ve(t){return t.length>0}function Ee(t,e,o){return t[o]=e.shift(),t}function xe(t){return[]}function Q(t,e,o,i){o.push(i),e.every(ve)&&t.push(e.reduce(Ee,{}))}function R(t){this.inputs=t,this.buffers=J.map.call(t,xe)}be(R.prototype,a.prototype,{pipe:function(t){let e=this.inputs,o=this.buffers;this[0]=t,J.forEach.call(e,(i,r)=>{let c=o[r];i.each?t.done(i.each(y=>Q(t,o,c,y))):i.then?i.then(y=>Q(t,o,c,y)):J.forEach.call(i,y=>Q(t,o,c,y))})},stop:function(){let t=this.inputs,e=-1,o;for(;o=t[++e];)o.stop();return a.prototype.stop.apply(this,arguments)}});var Te=Array.prototype,xt=Object.assign;function Se(t){throw new TypeError("Stream: invalid source object cannot be read into stream")}var Tt=xt(s,{of:function(){return new H(Te.slice.apply(arguments))},from:function(t){return t.pipe?new s(t):t.then?new s(new F(t)):typeof t.length=="number"?new H(t):Se(t)},burst:function(e){return new j(S,e)},broadcast:function(e){return new _(S,e)},combine:function(e){return new s(new G(e))},merge:function(){return new s(new U(arguments))},zip:function(){return new s(new R(arguments))}});xt(s.prototype,{log:K,burst:function(t){return new j(this,t)},broadcast:function(t){return new _(this,t)}});var Ae=Object.assign,Le=/\s+/,St={fullscreenchange:"fullscreenElement"in document?"fullscreenchange":"webkitFullscreenElement"in document?"webkitfullscreenchange":"fullscreenchange"};var At=0;window.addEventListener("click",t=>At=t.timeStamp);function Pe(t,e){return t.node.addEventListener(St[e]||e,t,t.options),t}function Me(t,e){return t.node.removeEventListener(St[e]||e,t),t}function Lt(t,e,o){this.types=t.split(Le),this.options=e,this.node=o,this.select=e&&e.select}Ae(Lt.prototype,a.prototype,{pipe:function(t){this[0]=t,this.types.reduce(Pe,this)},handleEvent:function(t){if(!(t.type==="click"&&t.timeStamp<=At)){if(this.select){let e=t.target.closest(this.select);if(!e)return;t.selectedTarget=e}this[0].push(t)}},stop:function(){this.types.reduce(Me,this),a.prototype.stop.apply(this,arguments)}});function W(t,e){let o;return typeof t=="object"&&(o=t,t=o.type),new Tt(new Lt(t,o,e))}function Oe(t){return/^#\S+$/.test(t)}var Pt={construct:function(t){let e=O("slot");t.append(e),W("change",this).map(ct("value")).filter(o=>!!o).each(o=>{if(Oe(o)){let i=ref.slice(1);window.location.hash=i}else window.location=o})}};var no=import.meta.url.replace(/\/[^\/]*\.js/,"/location-select-shadow.css"),oo=q('<select is="location-select">',Pt);window.console&&window.console.log('%c<select is="location-select">%c registered (docs at %chttps://stephen.band/location-select/%c)',"color: #3a8ab0; font-weight: 600;","color: #888888; font-weight: 400;","color: inherit; font-weight: 400;","color: #888888; font-weight: 400;");export{oo as default};
